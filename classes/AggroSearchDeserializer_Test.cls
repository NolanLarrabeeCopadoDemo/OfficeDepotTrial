@IsTest
public class AggroSearchDeserializer_Test {

	static String json = '{"module":"gazetteer","data":{"matches":[{"company_site_id":581726,"site_duns_id":"153531108","street_1":"6600 N MILITARY TRL","street_2":null,"city":"BOCA RATON","state":"FL","zip_5":"33496","parent_duns":null,"headquarter_duns":"153531108","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"01","name":"OFFICE DEPOT, INC.","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"true","subsidiary_indicator":"0","site_employee_count":2052,"site_sales":1190221.0,"sales_reliability_code":"4","line_of_business":"Stationery stores, nsk","total_family_members":"2555","search_name":null,"weight":0.7636363636363637},{"company_site_id":190203,"site_duns_id":"009073099","street_1":"6600 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":"153531108","headquarter_duns":"000000000","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"02","name":"OfficeMax Incorporated","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"3","site_employee_count":0,"site_sales":44444576.0,"sales_reliability_code":"4","line_of_business":"Stationery stores, nsk","total_family_members":"2555","search_name":null,"weight":0.5764705882352941},{"company_site_id":3879895,"site_duns_id":"079829711","street_1":"6600 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":null,"headquarter_duns":"009073099","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"02","name":"OfficeMax Incorporated","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"0","site_employee_count":1,"site_sales":437996.0,"sales_reliability_code":"4","line_of_business":"Stationery stores, nsk","total_family_members":"2555","search_name":null,"weight":0.5764705882352941},{"company_site_id":2414359,"site_duns_id":"831743419","street_1":"6600 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":"153531108","headquarter_duns":"000000000","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"02","name":"Office Depot of Texas, L.P.","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"3","site_employee_count":3,"site_sales":660853.0,"sales_reliability_code":"4","line_of_business":"Stationery stores, nsk","total_family_members":"2555","search_name":null,"weight":0.5714285714285714},{"company_site_id":1628705,"site_duns_id":"078697258","street_1":"6600 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":"153531108","headquarter_duns":"000000000","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"02","name":"Office Depot Foreign Holdings Gp, LLC","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"3","site_employee_count":3,"site_sales":541157.0,"sales_reliability_code":"4","line_of_business":"Investment offices, nec","total_family_members":"2555","search_name":null,"weight":0.5},{"company_site_id":4008779,"site_duns_id":"962062241","street_1":"6600 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":"009073099","headquarter_duns":"000000000","global_ultimate_duns_2":"153531108","global_ultimate_duns_1":"153531108","hierarchy_code":"03","name":"OfficeMax Nevada Company","du_us_87_sic_3dig_code":"594","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"594","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"3","site_employee_count":0,"site_sales":1.0,"sales_reliability_code":"4","line_of_business":"Stationery and office supplies","total_family_members":"2555","search_name":null,"weight":0.3927272727272727},{"company_site_id":6361125,"site_duns_id":"196489889","street_1":"17940 S Military Trl","street_2":"# 500","city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":null,"headquarter_duns":"023024814","global_ultimate_duns_2":"023024814","global_ultimate_duns_1":"023024814","hierarchy_code":"01","name":"Offerdahl\'s Cafe Grill","du_us_87_sic_3dig_code":"581","employee_reliability_code":"4","gu_us_87_sic_3dig_code":"581","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"0","site_employee_count":11,"site_sales":483316.0,"sales_reliability_code":"4","line_of_business":"Eating places","total_family_members":"2","search_name":null,"weight":0.277124183006536},{"company_site_id":3209377,"site_duns_id":"097398969","street_1":"5560 N Military Trl","street_2":null,"city":"Boca Raton","state":"FL","zip_5":"33496","parent_duns":null,"headquarter_duns":"000000000","global_ultimate_duns_2":"097398969","global_ultimate_duns_1":"097398969","hierarchy_code":null,"name":"Rappy\'s Deli","du_us_87_sic_3dig_code":"805","employee_reliability_code":"2","gu_us_87_sic_3dig_code":"0","minority_business_code":"false","public_private_indicator":"false","subsidiary_indicator":"0","site_employee_count":7,"site_sales":87243.0,"sales_reliability_code":"2","line_of_business":"Eating places","total_family_members":null,"search_name":null,"weight":0.2222222222222222}]}}';
	
	static testMethod void testParseCoverage() {
		
		AggroSearchDeserializer obj = AggroSearchDeserializer.parse(json);
		System.assert(obj != null);
	}

	static testMethod void testToOrgList(){
		AggroSearchDeserializer obj = AggroSearchDeserializer.parse(json);
		List<Org__c> myOrgs = obj.toOrgList();

		System.assert(myOrgs.size() == 8, '8 Orgs should be parsed from the test string...');
	}
}